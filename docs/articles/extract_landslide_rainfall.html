<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Extract Rainfalldata for landslides â€¢ rainfallR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Extract Rainfalldata for landslides">
<meta property="og:description" content="rainfallR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rainfallR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/example_bozen.html">Extracting data for bozen</a>
    </li>
    <li>
      <a href="../articles/extract_landslide_rainfall.html">Extract Rainfalldata for landslides</a>
    </li>
    <li>
      <a href="../articles/extract_su_rainfall.html">Extract rainfall data for the slope units</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="extract_landslide_rainfall_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Extract Rainfalldata for landslides</h1>
            
      
      
      <div class="hidden name"><code>extract_landslide_rainfall.Rmd</code></div>

    </div>

    
    
<div id="set-some-paths" class="section level1">
<h1 class="hasAnchor">
<a href="#set-some-paths" class="anchor"></a>Set some paths</h1>
<ul>
<li>First we need to set some paths to the appropriate data locations</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># the path to the iffi polygons</span>
<span class="va">landslide_poly_path</span> <span class="op">=</span> <span class="st">"\\\\projectdata.eurac.edu/projects/Proslide/Landslides/Iffi_db_xxxx_to_2018/exportperEurac2020/Shapefiles/IFFI10_5.shp"</span>

<span class="co"># the path to the iffi points</span>
<span class="va">landslide_point_path</span> <span class="op">=</span> <span class="st">"\\\\projectdata.eurac.edu/projects/Proslide/Landslides/Iffi_db_xxxx_to_2018/exportperEurac2020/Shapefiles/IFFI10_1.shp"</span> 

<span class="co"># the path to the folder with the iffi-databases </span>
<span class="va">database_dir</span> <span class="op">=</span> <span class="st">"\\\\projectdata.eurac.edu/projects/Proslide/Landslides/Iffi_db_xxxx_to_2018/exportperEurac2020/database"</span> 

<span class="co"># the path to the root folder of the gridded rainfall data</span>
<span class="va">path_ncdf</span> <span class="op">=</span> <span class="st">"\\\\projectdata.eurac.edu/projects/Proslide/PREC_GRIDS_updated/"</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># load some libraries</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">rainfallR</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://github.com/slowkow/ggrepel">ggrepel</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://gganimate.com">gganimate</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">iffitoR</span><span class="op">)</span> <span class="co"># load some sample landslide data that comes with the package</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/">sf</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/raster">raster</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://forcats.tidyverse.org">forcats</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tidyverse/glue">glue</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://purrr.tidyverse.org">purrr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://stringr.tidyverse.org">stringr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-lib/crayon#readme">crayon</a></span><span class="op">)</span> <span class="co"># for some colours</span></code></pre></div>
</div>
<div id="get-iffi-data-iffitor" class="section level1">
<h1 class="hasAnchor">
<a href="#get-iffi-data-iffitor" class="anchor"></a>Get iffi data (iffitoR)</h1>
<ul>
<li>In order to get the date information for the points and the polygons we will use the <code>iffitoR</code>-pacakge which facilitates the access to the iffi database a little bit</li>
</ul>
<div id="call-the-make_shapefile-function" class="section level2">
<h2 class="hasAnchor">
<a href="#call-the-make_shapefile-function" class="anchor"></a>Call the make_shapefile function</h2>
<ul>
<li>first we will query some more data for the point information in the scarve of the landslides</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># only query the data when working under windows due to the RODBC drivers</span>
<span class="va">os</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.info.html">Sys.info</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="st">"sysname"</span><span class="op">]</span>
<span class="kw">if</span> <span class="op">(</span><span class="va">os</span> <span class="op">==</span> <span class="st">"Windows"</span><span class="op">)</span> <span class="op">{</span>
  
<span class="va">iffi_points</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/iffitoR/man/make_shapefile.html">make_shapefile</a></span><span class="op">(</span>
  database_dir <span class="op">=</span> <span class="va">database_dir</span>,
  <span class="co"># normally null only setting it here for me</span>
  attribute_database_name <span class="op">=</span> <span class="st">"tbl_frane"</span>,
  <span class="co"># the name without extension</span>
  dictionary_database_name <span class="op">=</span> <span class="st">"diz_frane"</span>,
  shapefile <span class="op">=</span> <span class="va">landslide_point_path</span>, 
  
  <span class="co"># the colums we want to retrieve directly</span>
  attri <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"anno_min"</span>,
            <span class="st">"mese_min"</span>,
            <span class="st">"giorno_min"</span>,
            <span class="st">"area"</span><span class="op">)</span>,

  <span class="co"># tables to join from the other tables (for more see vignette)</span>
  joins <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
    <span class="st">"tbl_frane.Generalita.Cod_tipo"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
      <span class="st">"diz_frane.diz_tipo_movi.cod_tipo"</span>,
      <span class="st">"diz_frane.diz_tipo_movi.tipologia"</span>
    <span class="op">)</span>,
    <span class="st">"tbl_frane.clas_ii_liv.movimento"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
      <span class="st">"diz_frane.diz_movimenti.movimento"</span>,
      <span class="st">"diz_frane.diz_movimenti.nome_movimento"</span>
    <span class="op">)</span>,
    <span class="st">"tbl_frane.ass_gen_cause.causa"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
      <span class="st">"diz_frane.diz_cause.causa"</span>,
      <span class="st">"diz_frane.diz_cause.nome_causa"</span>
    <span class="op">)</span>
  <span class="op">)</span>
<span class="op">)</span>
  
<span class="op">}</span></code></pre></div>
<ul>
<li>lets have a little look at what we got back?</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># what have we got</span>
<span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">iffi_points</span><span class="op">)</span>
<span class="co">#&gt; Rows: 8,919</span>
<span class="co">#&gt; Columns: 9</span>
<span class="co">#&gt; $ PIFF_ID        &lt;dbl&gt; 20100, 30100, 30200, 30300, 30400, 30500, 30600, 401...</span>
<span class="co">#&gt; $ anno_min       &lt;int&gt; 1967, 1993, 1999, 1999, 2009, 2012, NA, NA, NA, 2011...</span>
<span class="co">#&gt; $ mese_min       &lt;int&gt; 1, 9, 1, NA, 5, 4, NA, NA, NA, 1, NA, 8, 2, NA, 2, 2...</span>
<span class="co">#&gt; $ giorno_min     &lt;int&gt; 1, 25, NA, NA, NA, 23, NA, NA, NA, 10, NA, 7, 11, NA...</span>
<span class="co">#&gt; $ area           &lt;int&gt; 272156, 0, 0, 83566, 0, 0, 0, NA, 57402, 0, 0, 0, 0,...</span>
<span class="co">#&gt; $ tipologia      &lt;chr&gt; "Complesso", "Aree soggette a crolli/ribaltamenti di...</span>
<span class="co">#&gt; $ nome_movimento &lt;chr&gt; "Complesso", "Aree soggette a crolli/ribaltamenti di...</span>
<span class="co">#&gt; $ nome_causa     &lt;chr&gt; "n.d.", "n.d.", "superfici di taglio preesistenti", ...</span>
<span class="co">#&gt; $ geometry       &lt;POINT [m]&gt; POINT (726753.9 5210405), POINT (669896.9 5122...</span></code></pre></div>
</div>
<div id="filter-the-data" class="section level2">
<h2 class="hasAnchor">
<a href="#filter-the-data" class="anchor"></a>Filter the data</h2>
<ul>
<li><p>the time information is in the columns <code>anno_min</code>, <code>mese_min</code> and <code>giorno_min</code></p></li>
<li><p>the first and second level are still in italian, wo do some more preprocessing</p></li>
</ul>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span> <span class="op">(</span><span class="va">os</span> <span class="op">==</span> <span class="st">"Windows"</span><span class="op">)</span> <span class="op">{</span>
  <span class="co"># translate the two classifying columns to english</span>
  <span class="va">iffi_points_1</span> <span class="op">=</span> <span class="fu">iffitoR</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/iffitoR/man/translate_iffi.html">translate_iffi</a></span><span class="op">(</span><span class="va">iffi_points</span><span class="op">)</span>
  
  <span class="co"># get some more date information</span>
  <span class="va">iffi_points_2</span> <span class="op">=</span> <span class="fu">iffitoR</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/iffitoR/man/get_date_information.html">get_date_information</a></span><span class="op">(</span><span class="va">iffi_points_1</span><span class="op">)</span>
  
  <span class="co"># drop the geometry, so that it gets a little more space</span>
  <span class="va">iffi_points_2</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html">st_drop_geometry</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html">matches</a></span><span class="op">(</span><span class="st">"date|day|year|month|first|second"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/headtail.html">head</a></span><span class="op">(</span><span class="op">)</span>
<span class="op">}</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Added the columns:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  date_info (chr) - (eiher 'year', 'month', 'day' or 'no date')</span>
<span class="co">#&gt;  year.int (integer)</span>
<span class="co">#&gt;  month.int (integer)</span>
<span class="co">#&gt;  day.int (integer)</span>
<span class="co">#&gt;  year.posix (date) (object of class date, referenced to the 1st of January of the year)</span>
<span class="co">#&gt;                       first_level                    second_level year_present</span>
<span class="co">#&gt; 1                         complex                         complex         TRUE</span>
<span class="co">#&gt; 2 area subject to rockfall/topple area subject to rockfall/topple         TRUE</span>
<span class="co">#&gt; 3                fall-type/topple                       fall-type         TRUE</span>
<span class="co">#&gt; 4                fall-type/topple                       fall-type         TRUE</span>
<span class="co">#&gt; 5                fall-type/topple                       fall-type         TRUE</span>
<span class="co">#&gt; 6                fall-type/topple                       fall-type         TRUE</span>
<span class="co">#&gt;   month_present day_present date_info       date year.int month.int day.int</span>
<span class="co">#&gt; 1          TRUE        TRUE       day 1967-01-01     1967         1       1</span>
<span class="co">#&gt; 2          TRUE        TRUE       day 1993-09-25     1993         9      25</span>
<span class="co">#&gt; 3          TRUE       FALSE     month       &lt;NA&gt;     1999         1      NA</span>
<span class="co">#&gt; 4         FALSE       FALSE      year       &lt;NA&gt;     1999        NA      NA</span>
<span class="co">#&gt; 5          TRUE       FALSE     month       &lt;NA&gt;     2009         5      NA</span>
<span class="co">#&gt; 6          TRUE        TRUE       day 2012-04-23     2012         4      23</span>
<span class="co">#&gt;   year.posix</span>
<span class="co">#&gt; 1 1967-01-01</span>
<span class="co">#&gt; 2 1993-01-01</span>
<span class="co">#&gt; 3 1999-01-01</span>
<span class="co">#&gt; 4 1999-01-01</span>
<span class="co">#&gt; 5 2009-01-01</span>
<span class="co">#&gt; 6 2012-01-01</span></code></pre></div>
<ul>
<li>next we filter the data a little more in order to only get the translational sldides that have information about the da of occurence and happened after 1980</li>
</ul>
<pre><code>#&gt; [1] 209  17</code></pre>
</div>
</div>
<div id="get-the-rainfall-data" class="section level1">
<h1 class="hasAnchor">
<a href="#get-the-rainfall-data" class="anchor"></a>Get the rainfall data</h1>
<div id="bring-the-data-in-the-right-structure" class="section level2">
<h2 class="hasAnchor">
<a href="#bring-the-data-in-the-right-structure" class="anchor"></a>bring the data in the right structure</h2>
<ul>
<li><p>We want to extract the rainfall data for each of the 209 points</p></li>
<li><p>We not only want the rainfall at the day of occurence, but also the 7 days before the actualy event happended</p></li>
<li><p>As we have one raster per day and one raster covers the entire province of South Tyrol, we will make a list of all the events that happened on the same day. This will prevent us of extracting the same raster twice</p></li>
<li><p>The names of the list will be the dates. Each day will have a dataframe with one row per event</p></li>
</ul>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># now lets use the data that comes already preprocessed with the iffitoR package</span>
<span class="co"># we need to filter the right slides as we did above for the data queried from the databse</span>
<span class="va">landsld</span> <span class="op">=</span> <span class="va">landsld</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html">str_detect</a></span><span class="op">(</span><span class="va">second_level</span>, <span class="st">"translational|rotational"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">date_info</span> <span class="op">==</span> <span class="st">"day"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year.int</span> <span class="op">&gt;=</span> <span class="fl">1980</span><span class="op">)</span> 

<span class="co"># create the list for the events on the same day</span>
<span class="va">slides_same_day</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="op">)</span>

<span class="kw">for</span> <span class="op">(</span><span class="va">row</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/ncell.html">nrow</a></span><span class="op">(</span><span class="va">landsld</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
  <span class="co"># get the day of the event</span>
  <span class="va">dts</span> <span class="op">=</span> <span class="va">landsld</span><span class="op">[</span><span class="va">row</span>,<span class="op">]</span><span class="op">[[</span><span class="st">"date"</span><span class="op">]</span><span class="op">]</span>
  <span class="va">dts_chr</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/as.character.html">as.character</a></span><span class="op">(</span><span class="va">dts</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_replace.html">str_replace_all</a></span><span class="op">(</span><span class="va">.</span>, <span class="st">"-"</span>, <span class="st">""</span><span class="op">)</span>

  <span class="co"># add this spatial object to the list with the name being the day</span>
  <span class="kw">if</span><span class="op">(</span><span class="va">dts_chr</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/names.html">names</a></span><span class="op">(</span><span class="va">slides_same_day</span><span class="op">)</span><span class="op">)</span><span class="op">{</span>
    <span class="va">slides_same_day</span><span class="op">[[</span><span class="va">dts_chr</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="va">slides_same_day</span><span class="op">[[</span><span class="va">dts_chr</span><span class="op">]</span><span class="op">]</span>, <span class="va">landsld</span><span class="op">[</span><span class="va">row</span>,<span class="op">]</span><span class="op">)</span>
  <span class="op">}</span> <span class="kw">else</span><span class="op">{</span>
    <span class="va">slides_same_day</span><span class="op">[[</span><span class="va">dts_chr</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="va">landsld</span><span class="op">[</span><span class="va">row</span>, <span class="op">]</span>
  <span class="op">}</span>
<span class="op">}</span></code></pre></div>
<ul>
<li>What is the max number of slides per day and on which day ?</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># create a vector of the slides per day</span>
<span class="va">n_slides_per_day</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="va">slides_same_day</span>, <span class="va">nrow</span><span class="op">)</span>

<span class="co"># what is the max slides per day</span>
<span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">n_slides_per_day</span><span class="op">)</span>

<span class="co"># when did it happen</span>
<span class="va">n_slides_per_day</span><span class="op">[</span><span class="va">n_slides_per_day</span> <span class="op">==</span> <span class="va">m</span><span class="op">]</span>
<span class="co">#&gt; 20080711 </span>
<span class="co">#&gt;       16</span></code></pre></div>
<ul>
<li>on the 21st of July there were 9 slides that happended</li>
</ul>
</div>
<div id="get-the-rainfall-data-1" class="section level2">
<h2 class="hasAnchor">
<a href="#get-the-rainfall-data-1" class="anchor"></a>get the rainfall data</h2>
<ul>
<li><p>for each day (each element in the list above) we now extract the rainfall data</p></li>
<li><p>therefore we use the <code>rainfallR</code>-package and its simple functions</p></li>
<li><p>We essentially extract the right raster from a bunch of NetCDf-files and extract then the raster-value (the rainfall) under the point of consideration</p></li>
<li><p>According to the implementation of <code>rainfallR</code> on the days with only one slide we get back a simple dataframe per day (yet in the wrong format that will be re-formatted with the <code>make_cumulative_rainfall</code>-function). When we extract data for more than one slide per day, we also get back a dataframe per say in a little different format and witch a unique identifier per slide</p></li>
<li><p>The <code>rainfallR</code>-function was intended to work with multiple days. However, it only supports the extracting of one spatial object (be it multiple points or polygons per day). Here however, we we want to extract the rainfall for various different days for different spatial objects. So we need to write a for loop</p></li>
<li><p>let see how long the extraction for all the 762 slides takes</p></li>
</ul>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># lets only take a smaller subset</span>
<span class="va">slides_same_day</span> <span class="op">=</span> <span class="va">slides_same_day</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span><span class="op">]</span>

<span class="co"># for each day get the rainfall at the slide location</span>
<span class="va">out</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">vector</a></span><span class="op">(</span><span class="st">"list"</span>, length<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">slides_same_day</span><span class="op">)</span><span class="op">)</span>

<span class="co"># measure the time</span>
<span class="va">start</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>

<span class="co"># iterate over the spatial object</span>
<span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq_along</a></span><span class="op">(</span><span class="va">slides_same_day</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
  
  <span class="co"># print some informative message</span>
  <span class="va">n</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">slides_same_day</span><span class="op">)</span>
  <span class="va">str</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">i</span>, <span class="st">"/"</span>, <span class="va">n</span><span class="op">)</span>
  <span class="va">dashes</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">replicate</a></span><span class="op">(</span><span class="fl">20</span>, <span class="st">"-"</span><span class="op">)</span>, collapse <span class="op">=</span> <span class="st">""</span><span class="op">)</span>
  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="va">yellow</span><span class="op">$</span><span class="va">bold</span><span class="op">$</span><span class="fu">underline</span><span class="op">(</span><span class="st">"\n------------"</span>, <span class="va">str</span>, <span class="va">dashes</span>, <span class="st">"\n\n"</span><span class="op">)</span><span class="op">)</span>
  
  <span class="co"># get the date of the slides</span>
  <span class="co"># this is one of the inputs to the function</span>
  <span class="va">dts</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/names.html">names</a></span><span class="op">(</span><span class="va">slides_same_day</span><span class="op">)</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="va">.</span>, <span class="st">"%Y%m%d"</span><span class="op">)</span>

  <span class="co"># the spatial object</span>
  <span class="co"># another input</span>
  <span class="va">spatial.obj</span> <span class="op">=</span> <span class="va">slides_same_day</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span>

  <span class="co"># some other arguments</span>
  <span class="va">days_back</span> <span class="op">=</span><span class="fl">7</span> 
  <span class="va">seqq</span> <span class="op">=</span> <span class="cn">FALSE</span> <span class="co"># we only consider one day per slides (not considering the days back)</span>

  <span class="va">rf</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/invisible.html">invisible</a></span><span class="op">(</span><span class="fu">rainfallR</span><span class="fu">::</span><span class="fu"><a href="../reference/get_rainfall.html">get_rainfall</a></span><span class="op">(</span>
    spatial.obj <span class="op">=</span> <span class="va">spatial.obj</span>,
    dts <span class="op">=</span> <span class="va">dts</span>,
    seqq <span class="op">=</span> <span class="va">seqq</span>,
    days_back <span class="op">=</span> <span class="va">days_back</span>
  <span class="op">)</span><span class="op">)</span>
  
  <span class="co"># there can only be one list element as we extract data for one day each</span>
  <span class="va">out</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="va">rf</span>
  
<span class="op">}</span>

<span class="va">end</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">took</span><span class="op">=</span><span class="va">end</span><span class="op">-</span><span class="va">start</span></code></pre></div>
<ul>
<li><p>So the extraction took: 1.30466408332189 minutes</p></li>
<li><p>First we bring each element of the result-list (which are also lists) in a long format. This means, if there would be more dates in the parameter <code>dts</code>, there would be more dataframes in the most inner list that would be converted to long format. Here it is only one.</p></li>
</ul>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># will bring each dataframe in a "long" fomat</span>
<span class="va">out_long_dfs</span> <span class="op">=</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map</a></span><span class="op">(</span><span class="va">out</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span><span class="fu">rainfallR</span><span class="fu">::</span><span class="fu"><a href="../reference/make_cumulative_rainfall.html">make_cumulative_rainfall</a></span><span class="op">(</span>res <span class="op">=</span> <span class="va">x</span>, days_back<span class="op">=</span><span class="va">days_back</span><span class="op">)</span><span class="op">}</span><span class="op">)</span>

<span class="co"># one column with the cumulative sum (cumsum) and one with the dates and also an integer</span>
<span class="co"># column with the dates before the event</span>
<span class="fu"><a href="https://rdrr.io/pkg/raster/man/headtail.html">head</a></span><span class="op">(</span><span class="va">out_long_dfs</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>
<span class="co">#&gt; $`20140211`</span>
<span class="co">#&gt; Simple feature collection with 16 features and 22 fields</span>
<span class="co">#&gt; geometry type:  POINT</span>
<span class="co">#&gt; dimension:      XY</span>
<span class="co">#&gt; bbox:           xmin: 671300.8 ymin: 5123189 xmax: 697736.7 ymax: 5169464</span>
<span class="co">#&gt; CRS:            +proj=utm +zone=32 +ellps=WGS84 +units=m +no_defs</span>
<span class="co">#&gt; # A tibble: 16 x 23</span>
<span class="co">#&gt; # Groups:   id [2]</span>
<span class="co">#&gt;       id PIFF_ID  area tipologia nome_movimento nome_causa first_level</span>
<span class="co">#&gt;  * &lt;int&gt;   &lt;dbl&gt; &lt;int&gt; &lt;chr&gt;     &lt;chr&gt;          &lt;chr&gt;      &lt;chr&gt;      </span>
<span class="co">#&gt;  1     1  6.03e4     0 translat~ rotational     &lt;NA&gt;       translatio~</span>
<span class="co">#&gt;  2     1  6.03e4     0 translat~ rotational     &lt;NA&gt;       translatio~</span>
<span class="co">#&gt;  3     1  6.03e4     0 translat~ rotational     &lt;NA&gt;       translatio~</span>
<span class="co">#&gt;  4     1  6.03e4     0 translat~ rotational     &lt;NA&gt;       translatio~</span>
<span class="co">#&gt;  5     1  6.03e4     0 translat~ rotational     &lt;NA&gt;       translatio~</span>
<span class="co">#&gt;  6     1  6.03e4     0 translat~ rotational     &lt;NA&gt;       translatio~</span>
<span class="co">#&gt;  7     1  6.03e4     0 translat~ rotational     &lt;NA&gt;       translatio~</span>
<span class="co">#&gt;  8     1  6.03e4     0 translat~ rotational     &lt;NA&gt;       translatio~</span>
<span class="co">#&gt;  9     2  4.27e7   646 translat~ translational  precipita~ translatio~</span>
<span class="co">#&gt; 10     2  4.27e7   646 translat~ translational  precipita~ translatio~</span>
<span class="co">#&gt; 11     2  4.27e7   646 translat~ translational  precipita~ translatio~</span>
<span class="co">#&gt; 12     2  4.27e7   646 translat~ translational  precipita~ translatio~</span>
<span class="co">#&gt; 13     2  4.27e7   646 translat~ translational  precipita~ translatio~</span>
<span class="co">#&gt; 14     2  4.27e7   646 translat~ translational  precipita~ translatio~</span>
<span class="co">#&gt; 15     2  4.27e7   646 translat~ translational  precipita~ translatio~</span>
<span class="co">#&gt; 16     2  4.27e7   646 translat~ translational  precipita~ translatio~</span>
<span class="co">#&gt; # ... with 16 more variables: second_level &lt;chr&gt;, year_present &lt;lgl&gt;,</span>
<span class="co">#&gt; #   month_present &lt;lgl&gt;, day_present &lt;lgl&gt;, date_info &lt;chr&gt;, date &lt;date&gt;,</span>
<span class="co">#&gt; #   year.int &lt;int&gt;, month.int &lt;int&gt;, day.int &lt;int&gt;, year.posix &lt;date&gt;,</span>
<span class="co">#&gt; #   date_consid &lt;chr&gt;, date.1 &lt;chr&gt;, precip &lt;dbl&gt;, geometry &lt;POINT [m]&gt;,</span>
<span class="co">#&gt; #   cumsum &lt;dbl&gt;, days_before_event &lt;int&gt;</span></code></pre></div>
<ul>
<li><p>As we can see each the output still is a list of lists. Each inner list could potentially have many dataframes (one for each date in the parameter <code>dts</code>). As we only consider one date here, it is a list of lists where each inner list only has one dataframe.</p></li>
<li><p>We thus can extract for each element of the inner list the first argument</p></li>
<li><p>In case we would not have the iffi-index for each slide we would need some way to uniquely distinguish the slides as each list element can potentially have more than one slide (look at the IDs). We will do this by iterating over the list and change the unique id in each dataframe to an entirely unique id in the list</p></li>
</ul>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># so we exrtact the first (and only) element of each list</span>
<span class="va">out_simple_list</span> <span class="op">=</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map</a></span><span class="op">(</span><span class="va">out_long_dfs</span>, <span class="op">~</span><span class="va">.x</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>

<span class="co">### create unique id for each slide</span>
<span class="co"># get the first and already create the new id</span>
<span class="va">out_unique_slide</span> <span class="op">=</span> <span class="va">out_simple_list</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fl">1</span>, <span class="st">"_"</span>, <span class="va">id</span><span class="op">)</span><span class="op">)</span>

<span class="co"># loop over the others and use the counter variable as additional identifier</span>
<span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq_along</a></span><span class="op">(</span><span class="va">out_simple_list</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
  <span class="co"># dont do it for the first one</span>
  <span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="va">i</span><span class="op">==</span><span class="fl">1</span><span class="op">)</span><span class="op">{</span>
    <span class="va">df</span> <span class="op">=</span> <span class="va">out_simple_list</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span> <span class="op">%&gt;%</span> 
      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">i</span>, <span class="st">"_"</span>, <span class="va">id</span><span class="op">)</span><span class="op">)</span>
    <span class="va">out_unique_slide</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="va">out_unique_slide</span>, <span class="va">df</span><span class="op">)</span>
      
  <span class="op">}</span>
<span class="op">}</span></code></pre></div>
</div>
</div>
<div id="plot-the-data" class="section level1">
<h1 class="hasAnchor">
<a href="#plot-the-data" class="anchor"></a>Plot the data</h1>
<ul>
<li><p>As we have this new id we can now plot each slide or by the iffi-kodex or by the id</p></li>
<li><p>Now we can proceed to plot the data in order to better understand it and at the same time also perform a first validation of the data</p></li>
</ul>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">out_unique_slide</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">days_before_event</span>, y <span class="op">=</span> <span class="va">cumsum</span>, group<span class="op">=</span><span class="va">id</span>, col<span class="op">=</span><span class="va">second_level</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_reverse</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="extract_landslide_rainfall_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
</div>
<div id="create-a-little-animation" class="section level1">
<h1 class="hasAnchor">
<a href="#create-a-little-animation" class="anchor"></a>Create a little animation</h1>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># create an upcounting couter</span>
<span class="va">out_unique_slide</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">area</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>time_anim <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/ranking.html">row_number</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>area <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log10</a></span><span class="op">(</span><span class="va">area</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">.</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">days_before_event</span>, y<span class="op">=</span><span class="va">cumsum</span>, group<span class="op">=</span><span class="va">id</span>, col<span class="op">=</span><span class="va">second_level</span><span class="op">)</span>, lwd<span class="op">=</span><span class="fl">2</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>size<span class="op">=</span><span class="va">area</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_reverse</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_segment.html">geom_segment</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>xend<span class="op">=</span><span class="fl">0</span>, yend<span class="op">=</span><span class="va">cumsum</span><span class="op">)</span>, linetype<span class="op">=</span><span class="fl">2</span>, colour<span class="op">=</span><span class="st">"grey"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="op">-</span><span class="fl">0.3</span>, label<span class="op">=</span><span class="va">PIFF_ID</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_light</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title<span class="op">=</span><span class="st">"Cumulative Rainfall before Landslides"</span>,
       subtitle <span class="op">=</span> <span class="st">"at point location"</span>,
       x <span class="op">=</span> <span class="st">"Days before Slide"</span>, 
       y <span class="op">=</span> <span class="st">"Cumulative Rainfall per day [mm]"</span>,
       size <span class="op">=</span> <span class="st">"log 10 area "</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://gganimate.com/reference/transition_reveal.html">transition_reveal</a></span><span class="op">(</span><span class="va">time_anim</span><span class="op">)</span>
<span class="co">#&gt; Warning in sqrt(x): NaNs wurden erzeugt</span>
<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span>

<span class="co">#&gt; Warning: Removed 4 rows containing missing values (geom_point).</span></code></pre></div>
<p><img src="extract_landslide_rainfall_files/figure-html/unnamed-chunk-7-1.gif"><!-- --></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by The package maintainer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
